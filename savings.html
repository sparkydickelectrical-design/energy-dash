<!DOCTYPE html>
<html lang="en">
<head>
    <script>if (localStorage.getItem('peakShavingAuth') !== 'true') { window.location.href = "login.html"; }</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Financial Overview | PeakShaving Hub</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="style.css?v=12.0">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-top">
            <div class="brand-logo">PeakShaving <span>Savings Tracker</span></div>
            <div class="nav-links">
                <a href="index.html" class="nav-item">Home</a>
                <a href="savings.html" class="nav-item active">Savings</a>
                <a href="analytics.html" class="nav-item">Analytics</a>
                <a href="#" onclick="logout()" class="nav-item" style="color:#ef4444">Logout</a>
            </div>
        </div>
    </nav>

    <div class="scroll-content">
        <section class="savings-hero-card" style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); padding: 60px 20px; text-align: center; border-radius: 40px; border: 1px solid #334155; margin-bottom: 30px;">
            <div style="font-size: 0.8rem; color: #94a3b8; text-transform: uppercase; font-weight: 900; letter-spacing: 1.5px;">Rolling Monthly Savings</div>
            <div style="font-size: 4.2rem; font-weight: 1000; color: #4ade80; margin: 15px 0;">£142.50</div>
            <div style="font-size: 0.75rem; color: #64748b;">Grid Protocol: Economy 7 Active</div>
        </section>

        <div class="energy-grid-wrapper">
            <div class="white-box" style="border-left: 8px solid #4ade80;">
                <div class="mini-info"><strong>£84.20</strong><span style="display:block; font-size:0.7rem; color:#94a3b8; font-weight:800;">Direct Arbitrage Yield</span></div>
            </div>
            <div class="white-box" style="border-left: 8px solid #3b82f6;">
                <div class="mini-info"><strong>12.4kg</strong><span style="display:block; font-size:0.7rem; color:#94a3b8; font-weight:800;">Total CO2 Offset</span></div>
            </div>
        </div>

        <div class="daily-header"><h2>Tariff Window Analysis</h2></div>
        <div class="daily-card">
            <div class="energy-grid-wrapper">
                <div id="day-box" style="text-align:center; background:#1a1a1a; padding:30px; border-radius:24px; border:1.5px solid #333; transition: 0.3s;">
                    <div style="font-size:0.8rem; color:#94a3b8; font-weight:900;">Standard Rate</div>
                    <div style="font-size:2.2rem; font-weight:1000;">28.5p</div>
                    <div style="font-size:0.7rem; color:#64748b; margin-top:10px;">08:00 — 01:00</div>
                </div>
                <div id="night-box" style="text-align:center; background:#1a1a1a; padding:30px; border-radius:24px; border:1.5px solid #333; transition: 0.3s;">
                    <div style="font-size:0.8rem; color:#4ade80; font-weight:900;">Economy 7</div>
                    <div style="font-size:2.2rem; font-weight:1000; color:#4ade80;">7.5p</div>
                    <div style="font-size:0.7rem; color:#64748b; margin-top:10px;">01:00 — 08:00</div>
                </div>
            </div>
        </div>
    </div>
    <script>
        lucide.createIcons();
        const currentHour = new Date().getHours();
        if(currentHour >= 1 && currentHour < 8) { 
            const nBox = document.getElementById('night-box');
            nBox.style.borderColor = '#4ade80';
            nBox.style.boxShadow = '0 0 30px rgba(74, 222, 128, 0.2)';
        } else { 
            document.getElementById('day-box').style.borderColor = '#3b82f6'; 
        }
    </script>
</body>
</html>
