<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Master Hub | PeakShaving Pro</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dashboard-root">

    <aside class="sidebar">
        <div class="side-logo"><i data-lucide="zap" class="green-text"></i></div>
        <nav class="side-links">
            <a href="index.html" class="nav-item active"><i data-lucide="layout-dashboard"></i><span>HUB</span></a>
            <a href="savings.html" class="nav-item"><i data-lucide="trending-up"></i><span>SAVINGS</span></a>
            <a href="analytics.html" class="nav-item"><i data-lucide="bar-chart-3"></i><span>DATA</span></a>
            <a href="settings.html" class="nav-item"><i data-lucide="settings"></i><span>AUTO</span></a>
        </nav>
    </aside>

    <div class="main-content">
        <header class="telemetry-bar">
            <div class="tel-row">
                <span class="tel-lbl">Grid Import Status</span>
                <span class="tel-val red-text" id="top-grid">0.85 kW</span>
            </div>
            <div class="tel-row">
                <span class="tel-lbl">Active Renewable Yield</span>
                <span class="tel-val green-text" id="top-yield">3.10 kW</span>
            </div>
        </header>

        <section class="radial-section">
            <div class="radial-hub">
                <svg class="svg-layer" viewBox="0 0 400 400" preserveAspectRatio="xMidYMid meet">
                    <line x1="200" y1="200" x2="200" y2="50" class="dash-line anim-flow" />
                    <line x1="200" y1="200" x2="330" y2="100" class="dash-line anim-flow" />
                    <line x1="200" y1="200" x2="350" y2="220" class="dash-line anim-flow" />
                    <line x1="200" y1="200" x2="280" y2="340" class="dash-line anim-flow" />
                    <line x1="200" y1="200" x2="120" y2="340" class="dash-line anim-flow" />
                    <line x1="200" y1="200" x2="50" y2="220" class="dash-line anim-flow" />
                    <line x1="200" y1="200" x2="70" y2="100" class="dash-line anim-flow" />
                </svg>

                <div class="node-box pos-center">
                    <div class="node-circle core-node pulse-blue"><i data-lucide="cpu" class="blue-text"></i></div>
                    <span class="node-tag">CORE ACTIVE</span>
                </div>

                <div class="node-box pos-n1">
                    <div class="node-circle" id="n-solar"><i data-lucide="sun"></i><span class="val">2.4</span></div>
                    <span class="node-tag">SOLAR PV</span>
                </div>
                <div class="node-box pos-n2">
                    <div class="node-circle" id="n-wind"><i data-lucide="wind"></i><span class="val">0.7</span></div>
                    <span class="node-tag">WIND</span>
                </div>
                <div class="node-box pos-n3">
                    <div class="node-circle" id="n-batt"><i data-lucide="battery"></i><span class="val">-0.5</span></div>
                    <span class="node-tag">STORAGE</span>
                </div>
                <div class="node-box pos-n4">
                    <div class="node-circle b-blue" id="n-home"><i data-lucide="home"></i><span class="val">1.1</span></div>
                    <span class="node-tag">HOME LOAD</span>
                </div>
                <div class="node-box pos-n5">
                    <div class="node-circle b-green" id="n-ev"><i data-lucide="car"></i><span class="val">0.0</span></div>
                    <span class="node-tag">EV CHARGER</span>
                </div>
                <div class="node-box pos-n6">
                    <div class="node-circle" id="n-hp"><i data-lucide="thermometer"></i><span class="val">0.6</span></div>
                    <span class="node-tag">HEAT PUMP</span>
                </div>
                <div class="node-box pos-n7">
                    <div class="node-circle b-red" id="n-grid"><i data-lucide="utility-pole"></i><span class="val">0.8</span></div>
                    <span class="node-tag">UTILITY</span>
                </div>
            </div>
        </section>

        <main class="data-stack">
            <h2 class="grp-title">Energy Storage System (ESS) Metrics</h2>
            <div class="ess-block">
                <div class="bms-status"><i data-lucide="shield-check" class="green-text"></i> BMS Status: Nominal</div>
                <ul class="ess-list">
                    <li>92% Charge</li>
                    <li>DC Voltage 54.21 V</li>
                    <li>Internal Temp 24.5 Â°C</li>
                    <li>Cycle Count 122</li>
                </ul>
            </div>

            <h2 class="grp-title">24h System Accumulation</h2>
            <div class="acc-grid">
                <div class="acc-box">
                    <span class="acc-num" id="acc-solar">14.22</span><span class="acc-unit">kWh</span>
                    <div class="acc-lbl">SOLAR GENERATION</div>
                </div>
                <div class="acc-box">
                    <span class="acc-num">8.45</span><span class="acc-unit">kWh</span>
                    <div class="acc-lbl">HOUSEHOLD DEMAND</div>
                </div>
                <div class="acc-box">
                    <span class="acc-num">2.10</span><span class="acc-unit">kWh</span>
                    <div class="acc-lbl">OFF-PEAK IMPORT</div>
                </div>
                <div class="acc-box">
                    <span class="acc-num">0.52</span><span class="acc-unit">kWh</span>
                    <div class="acc-lbl">PEAK COST IMPORT</div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            setInterval(() => {
                const nodes = ['n-solar', 'n-wind', 'n-batt', 'n-home', 'n-hp', 'n-grid'];
                nodes.forEach(id => {
                    const node = document.getElementById(id);
                    if(node) {
                        const el = node.querySelector('.val');
                        let val = parseFloat(el.innerText);
                        el.innerText = (val + (Math.random() * 0.2 - 0.1)).toFixed(1);
                    }
                });
            }, 2500);
        });
    </script>
</body>
</html>
