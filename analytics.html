<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Analytics | PeakShaving Professional</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css?v=19.0">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-top">
            <div class="brand-logo">PeakShaving <span>Professional</span></div>
            <div class="nav-links">
                <a href="index.html" class="nav-item">Home</a>
                <a href="savings.html" class="nav-item">Savings</a>
                <a href="analytics.html" class="nav-item active">Analytics</a>
            </div>
        </div>
    </nav>

    <main class="scroll-content">
        <div class="analytics-top-row">
            <div class="kpi-mini-card">
                <span class="kpi-label">Inverter Efficiency</span>
                <span class="kpi-val">98.42%</span>
                <span class="kpi-trend green-text">â–² 0.12% Optimal</span>
            </div>
            <div class="kpi-mini-card">
                <span class="kpi-label">Self-Sufficiency Ratio</span>
                <span class="kpi-val">84.1%</span>
                <span class="kpi-trend green-text">MAX AUTONOMY</span>
            </div>
        </div>

        <div class="daily-header">
            <h2>Power Flux Correlation (24h)</h2>
        </div>
        <div class="daily-card chart-wrapper">
            <canvas id="proAnalyticsChart"></canvas>
        </div>

        <div class="daily-header">
            <h2>Inverter Phase Audit</h2>
        </div>
        <div class="daily-card table-container">
            <table class="industrial-table">
                <thead>
                    <tr><th>Ref</th><th>Voltage</th><th>Current</th><th>Status</th></tr>
                </thead>
                <tbody>
                    <tr><td>L1 Master</td><td>231.4V</td><td>4.21A</td><td><span class="status-sync">SYNCED</span></td></tr>
                    <tr><td>L2 Slave</td><td>230.8V</td><td>3.82A</td><td><span class="status-sync">SYNCED</span></td></tr>
                    <tr><td>L3 Aux</td><td>232.1V</td><td>4.11A</td><td><span class="status-sync">SYNCED</span></td></tr>
                </tbody>
            </table>
        </div>
    </main>

    <script>
        lucide.createIcons();
        const ctx = document.getElementById('proAnalyticsChart').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '23:59'],
                datasets: [
                    {
                        label: 'Solar Yield (kW)',
                        data: [0, 0, 1.2, 5.4, 3.8, 0.2, 0],
                        borderColor: '#4ade80',
                        backgroundColor: 'rgba(74, 222, 128, 0.05)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3
                    },
                    {
                        label: 'House Load (kW)',
                        data: [0.8, 0.6, 2.5, 1.4, 2.8, 4.5, 1.1],
                        borderColor: '#3b82f6',
                        borderDash: [5, 5],
                        tension: 0.4,
                        borderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { grid: { color: '#1a1a1a' }, ticks: { color: '#666' } },
                    x: { grid: { display: false }, ticks: { color: '#666' } }
                },
                plugins: {
                    legend: { labels: { color: '#94a3b8', font: { weight: '700' } } }
                }
            }
        });
    </script>
</body>
</html>
